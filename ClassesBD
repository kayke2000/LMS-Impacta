CREATE TABLE Usuario
(
ID SMALLINT IDENTITY,
Login VARCHAR(20) NOT NULL,
Senha TINYINT(20) NOT NULL,
DtExpiracao DATE NOT NULL CONSTRAINT DfDtExp DEFAULT '19900101',
CONSTRAINT pkUsuario PRIMARY KEY (ID),
CONSTRAINT UqLogin UNIQUE (Login)
);


CREATE TABLE Coordenador
(
ID TINYINT IDENTITY,
Id_usuario SMALLINT NOT NULL,
Nome VARCHAR (35) NOT NULL,
Email VARCHAR (30) NOT NULL,
Celular VARCHAR(11) NOT NULL,
CONSTRAINT PkCoordenador PRIMARY KEY (ID),
CONSTRAINT FkCoord_IdUsuario FOREIGN KEY(Id_usuario) REFERENCES Usuario(ID),
CONSTRAINT UqEmail UNIQUE (Email),
CONSTRAINT UqCelular UNIQUE(Celular)
);

CREATE TABLE Aluno(
ID SMALLINT IDENTITY,
Id_usuario SMALLINT NOT NULL,
Nome VARCHAR(35) NOT NULL,
Email VARCHAR(30) NOT NULL,
Celular VARCHAR(11) NOT NULL,
RA TINYINT NOT NULL,
Foto VARCHAR(50) NULL,
CONSTRAINT pkAluno PRIMARY KEY (ID),
CONSTRAINT fkTbAluno_Id_usuario FOREIGN KEY(Id_usuario) REFERENCES Usuario(ID),
CONSTRAINT ukTbAluno UNIQUE(Email),
CONSTRAINT ukTAluno UNIQUE(Celular)
);

CREATE TABLE Professor
(
ID TINYINT IDENTITY,
Id_usuario SMALLINT NOT NULL,
Email VARCHAR(30) NOT NULL,
Celular VARCHAR(11) NOT NULL,
Apelido VARCHAR(20) NOT NULL,
CONSTRAINT PkID PRIMARY KEY(ID),
CONSTRAINT fkProfessor_Id_usuario FOREIGN KEY(Id_usuario) REFERENCES Usuario(ID),
CONSTRAINT UqEmail UNIQUE (Email),
CONSTRAINT UqCelular UNIQUE(Celular)
);
